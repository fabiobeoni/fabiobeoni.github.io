!function(t){t.BSS={_keys:{COURSE_ROOT:"BSS_COURSE_ROOT"},_root:null,initialize:function(o){if(!t.localStorage)return alert("Your browser doesn't support Local Storage, or it is not enabled."),o(!1);if(BSS._root=t.localStorage.getItem(BSS._keys.COURSE_ROOT),!BSS._root||0===BSS._root.length){var r=window.location.href;r=r.substring(0,r.lastIndexOf("/")+1),BSS._root=r,t.localStorage.setItem(BSS._keys.COURSE_ROOT,r),console.log("BSS: root set to "+r)}o(!0)},rewriteLinksToRoot:function(){$("[href],[src],[poster]").each(function(t,o){var r=$(o),e=r.attr("href");if(e&&0===e.indexOf("/")){var n=BSS._root+e.substr(1);r.attr("href",n),console.log(n)}})}}}(window),BSS.initialize(function(t){t&&BSS.rewriteLinksToRoot()}),function(){var t,o={lg:1200,md:1024,sm:768,xs:360},r="<source src='@url' type='video/mp4'>",e=$("[data-vmq-url]"),n=$(document).width();t=n>=o.lg?"lg":n>=o.md&&n<o.lg?"md":n>=o.sm&&n<o.md?"sm":n>=o.xs&&n<o.sm?"xs":"sm",e.each(function(){var e=$(this);this.addEventListener("loadeddata",function(){e.attr("width",o[t]+"px")},!1);var n=e.attr("data-vmq-url");n=n.replace("_vmq.","_"+t+"."),e.append(r.replace("@url",n))})}();